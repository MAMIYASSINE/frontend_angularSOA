<div class="container">
  <div>
    <h2>Modifier une Voiture :</h2>
  </div>
  <form>
    <div  class="col-sm-2 col-md-2 col-lg-2">
      <label>ID Voiture</label>
      <input readonly type="text" [(ngModel)]="currentVoiture.idVoiture" name="idVoiture" class="form-control">
    </div>
    <div class="col-sm-4 col-md-4 col-lg-4">
      <label>Nom Voiture</label>
      <input type="text" [(ngModel)]="currentVoiture.nomVoiture" name="nomVoiture" class="form-control">
    </div>
    <div class="col-sm-4 col-md-4 col-lg-4">
      <label>Type</label>
      <input type="text" [(ngModel)]="currentVoiture.type" name="type" class="form-control">
    </div>
    <div class="col-sm-2 col-md-2 col-lg-2">
      <label>Nombre de Portes</label>
      <input type="number" [(ngModel)]="currentVoiture.nbPortes" name="nbPortes" class="form-control">
    </div>
    <div class="col-sm-2 col-md-2 col-lg-2">
      <label>Puissance</label>
      <input type="number" [(ngModel)]="currentVoiture.puissance" name="puissance" class="form-control">
    </div>
    <div class="col-sm-2 col-md-2 col-lg-2">
      <label>Prix Voiture</label>
      <input type="number" [(ngModel)]="currentVoiture.prixVoiture" name="prixVoiture" class="form-control">
    </div>
    <div class="col-sm-4 col-md-4 col-lg-4">
      <label>Date cr√©ation</label>
      <input type="date" [ngModel]="currentVoiture.dateCreationVoiture | date: 'yyyy-MM-dd'"
        (ngModelChange)="currentVoiture.dateCreationVoiture = $event" name="dateCreationVoiture" class="form-control">
    </div>
    <div class="col-sm-4 col-md-4 col-lg-4"> 
      <select class="form-control form-control-lg" id="idMarque" name="idMarque" [(ngModel)]="updatedMarqueId">
        <option *ngFor="let marque of marques" [value]="marque.idMarque"> {{marque.nomMarque}} </option>
      </select> 
    </div>
    
    <div class="col-sm-16 col-md-16 col-lg-16"> 
      <label class="mb-2">Image :</label> 
      <input type="file" (change)="onImageUpload($event)" class="form-control"> 
    </div>
    <div class="mt-2"> 
      <button type="submit" (click)="onAddImageVoiture()" class="btn btn-success">Ajouter Image</button> 
    </div>
    <div class="col-sm-16 col-md-16 col-lg-16"> 
      <img [src]="myImage" class="card-img-top img-fluid rounded-start" style="width: 500px; height: 300px" /> 
    </div>

    <div class="card shadow mb-4"> 
      <div class="card-body"> 
        <table class="table table-striped"> 
          <thead> 
            <tr> 
              <th>Images</th> 
            </tr> 
          </thead>
          <tbody *ngFor="let img of currentVoiture.images"> 
            <tr> 
              <td>
                <img class="card-img-top img-responsive" src = "{{'data:' + img.type + ';base64,' + img.image}}" style = "height :50px;width:100px">
              </td> 
              <td style="width:20%" >
                <a class="btn btn-danger" (click)="supprimerImage(img)">Supprimer</a>
              </td>
            </tr> 
          </tbody> 
        </table> 
      </div> 
    </div>

    <div class="mt-2">
      <button type="submit" (click)="updateVoiture()" class="btn btn-success">Modifier</button>
    </div>
  </form>
</div>